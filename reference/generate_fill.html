<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Process the filling colors based on affection — generate_fill • Pedixplorer</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Process the filling colors based on affection — generate_fill"><meta property="og:description" content="Perform transformation uppon a column given as the one
containing affection status to compute the filling color."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Pedixplorer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pedigree_alignment.html">Pedigree alignment details</a>
    </li>
    <li>
      <a href="../articles/pedigree_kinship.html">Pedigree kinship() details</a>
    </li>
    <li>
      <a href="../articles/pedigree_object.html">Pedigree object</a>
    </li>
    <li>
      <a href="../articles/pedigree_plot.html">Pedigree plotting details</a>
    </li>
    <li>
      <a href="../articles/pedigree.html">Pedixplorer tutorial</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/LouisLeNezet/Pedixplorer/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process the filling colors based on affection</h1>
    <small class="dont-index">Source: <a href="https://github.com/LouisLeNezet/Pedixplorer/blob/devel/R/generate_colors.R" class="external-link"><code>R/generate_colors.R</code></a></small>
    <div class="hidden name"><code>generate_fill.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform transformation uppon a column given as the one
containing affection status to compute the filling color.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_fill</span><span class="op">(</span></span>
<span>  <span class="va">values</span>,</span>
<span>  <span class="va">affected</span>,</span>
<span>  <span class="va">labels</span>,</span>
<span>  is_num <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keep_full_scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  breaks <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  colors_aff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yellow2"</span>, <span class="st">"red"</span><span class="op">)</span>,</span>
<span>  colors_unaff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"steelblue4"</span><span class="op">)</span>,</span>
<span>  colors_na <span class="op">=</span> <span class="st">"grey"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>The vector containing the values to process as affection.</p></dd>


<dt id="arg-affected">affected<a class="anchor" aria-label="anchor" href="#arg-affected"></a></dt>
<dd><p>A logical vector with the affection status of the
individuals
(i.e. <code>FALSE</code> = unaffected,
<code>TRUE</code> = affected,
<code>NA</code> = unknown).</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>The vector containing the labels to use for the affection.</p></dd>


<dt id="arg-is-num">is_num<a class="anchor" aria-label="anchor" href="#arg-is-num"></a></dt>
<dd><p>Boolean defining if the values need to be considered as
numeric.</p></dd>


<dt id="arg-keep-full-scale">keep_full_scale<a class="anchor" aria-label="anchor" href="#arg-keep-full-scale"></a></dt>
<dd><p>Boolean defining if the affection values need to
be set as a scale. If <code>values</code> is numeric the filling scale will be
calculated based on the values and the number of breaks given.
If <code>values</code> isn't numeric then each levels will get it's own color</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>Number of breaks to use when using full scale with numeric
values. The same number of breaks will be done for values from affected
individuals and unaffected individuals.</p></dd>


<dt id="arg-colors-aff">colors_aff<a class="anchor" aria-label="anchor" href="#arg-colors-aff"></a></dt>
<dd><p>Set of increasing colors to use for the filling of the
affected individuls.</p></dd>


<dt id="arg-colors-unaff">colors_unaff<a class="anchor" aria-label="anchor" href="#arg-colors-unaff"></a></dt>
<dd><p>Set of increasing colors to use for the filling of the
unaffected individuls.</p></dd>


<dt id="arg-colors-na">colors_na<a class="anchor" aria-label="anchor" href="#arg-colors-na"></a></dt>
<dd><p>Color to use for individuals with no informations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of three elements</p><ul><li><p><code>mods</code> : The processed values column as a numeric factor</p></li>
<li><p><code>affected</code> : A logical vector indicating if the individual
is affected</p></li>
<li><p><code>sc_fill</code> : A dataframe containing the description of each
modality of the scale</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The colors will be set using the
<code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">grDevices::colorRampPalette()</a></code> function
with the colors given as parameters.</p>
<p>The colors will be set as follow:</p><ul><li><p>If <strong>keep_full_scale</strong> is <code>FALSE</code>:
Then the affected individuals will get the first color of the
<strong>colors_aff</strong> vector and the unaffected individuals will get the
first color of the <strong>colors_unaff</strong> vector.</p></li>
<li><p>If <strong>keep_full_scale</strong> is <code>TRUE</code>:</p><ul><li><p>If <strong>values</strong> isn't numeric:
Each levels of the affected <strong>values</strong> vector will get
it's own color from the <strong>colors_aff</strong> vector using the
<code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">grDevices::colorRampPalette()</a></code> and
the same will be done for the unaffected individuals using the
<strong>colors_unaff</strong>.</p></li>
<li><p>If <strong>values</strong> is numeric:
The mean of the affected individuals will be compared to the mean of the
unaffected individuals and the colors will be set up such as the color
gradient follow the direction of the affection.</p></li>
</ul></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">aff</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_aff_inds.html">generate_aff_inds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">3</span>, sup_thres_aff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">generate_fill</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, <span class="va">aff</span><span class="op">$</span><span class="va">affected</span>, <span class="va">aff</span><span class="op">$</span><span class="va">labels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $affected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sc_fill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mods          labels affected  fill density angle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0 Healthy &lt;= to 3    FALSE white      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    1 Affected &gt; to 3     TRUE   red      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">generate_fill</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, <span class="va">aff</span><span class="op">$</span><span class="va">affected</span>, <span class="va">aff</span><span class="op">$</span><span class="va">labels</span>, keep_full_scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $affected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sc_fill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mods                         labels affected    fill density angle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 Healthy &lt;= to 3 : [0.998,1.67]    FALSE #FFFFFF      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2  Healthy &lt;= to 3 : (1.67,2.33]    FALSE #9AB1C4      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3     Healthy &lt;= to 3 : (2.33,3]    FALSE #36648B      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4     Affected &gt; to 3 : [4,4.33]     TRUE #EEEE00      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    6     Affected &gt; to 3 : (4.67,5]     TRUE #FF0000      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Louis Le Nézet, Jason Sinnwell, Terry Therneau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

